apply plugin: 'groovy'

sourceCompatibility = 8

repositories {
  jcenter()
  mavenCentral()
}

dependencies {
  testCompile 'org.codehaus.groovy:groovy-all:2.4.+'
  testCompile ('org.spockframework:spock-core:1.0-groovy-2.4') {
    exclude module : 'groovy-all'
  }
  testCompile ('com.nagternal:spock-genesis:0.+') {
    exclude module: 'groovy'
  }
  testCompile 'junit:junit:4.+'
  testCompile 'com.pholser:junit-quickcheck-core:0.+'
  testCompile 'com.pholser:junit-quickcheck-generators:0.+'
  testCompile 'org.testng:testng:6.+'
  // TestNG marks this as a provided dependency.
  testCompile 'com.google.inject:guice:2.+'
}

task test_TestNG(type: Test) {
  useTestNG()
}

test.dependsOn test_TestNG

clean.doLast {
  delete 'test-output'
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.13'
}

defaultTasks 'test'
